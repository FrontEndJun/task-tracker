{"version":3,"sources":["hooks/useFetch.jsx","context/auth.context.jsx","pages/auth-page.jsx","context/tasks.context.js","components/Pagination.jsx","components/TaskCreator.jsx","components/Filter.jsx","components/Loader.jsx","components/TaskItem.jsx","components/TasksList.jsx","hooks/useFilter.jsx","pages/tasks.jsx","components/NavBar.jsx","pages/About.jsx","App.jsx","hooks/useAuth.jsx","index.jsx"],"names":["useFetch","useState","loading","setLoading","errors","setErrors","req","useCallback","url","a","method","body","headers","JSON","stringify","fetch","res","json","data","ok","msg","message","clearErrors","AuthContext","createContext","token","admin","userId","isAuth","AuthPage","username","password","form","setForm","auth","useContext","submitHandler","e","preventDefault","login","tkn","id","isAdmin","changeHandler","target","name","value","className","onSubmit","type","onChange","htmlFor","disabled","TasksContext","Pagination","state","dispatch","pages","Math","ceil","task","all","perPage","isFirst","currentPage","isLast","classNames","href","onClick","Array","fill","map","_","i","index","key","active","payload","TaskCreator","email","placeholder","Filter","select","useRef","select1","useEffect","window","M","FormSelect","init","current","ref","filterDir","Loader","TaskItem","text","completed","edited","hasChanges","setHasChages","values","setValues","clickHandler","Authorization","defaultChecked","TasksList","list","filterReducer","action","filterName","parseInt","TaskPage","history","useHistory","l","useLocation","useReducer","filter","push","search","tasks","fetchData","useFilter","Provider","NavBar","to","logout","About","App","console","log","process","setToken","setUserId","setAdmin","jwttoken","localStorage","setItem","removeItem","parse","getItem","useAuth","basename","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a84776d3.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\";\n\nexport const useFetch = () => {\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n  const req = useCallback(async (url, method = \"GET\", body = null, headers = {}) => {\n    setLoading(true);\n    try {\n      if (body) {\n        body = JSON.stringify(body);\n      }\n\n      let res = await fetch(`https://react-tracker-task.herokuapp.com${url}`, { headers, method, body });\n      const data = await res.json();\n\n      if (!res.ok) {\n        setErrors(data.msg);\n      }\n\n      setLoading(false);\n      return data;\n    } catch (err) {\n      setLoading(false);\n      setErrors(err.message);\n    }\n  }, []);\n\n  const clearErrors = useCallback(() => setErrors(null), []);\n\n  return { loading, req, errors, clearErrors };\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext({\n  token: null,\n  admin: false,\n  userId: null,\n  isAuth: false,\n});\n","import React, { useState, useContext } from \"react\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport { AuthContext } from \"../context/auth.context\";\n\nexport const AuthPage = () => {\n  const { req, loading, errors } = useFetch();\n  const [form, setForm] = useState({ username: \"\", password: \"\" });\n  const auth = useContext(AuthContext);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const res = await req(\"/auth/login\", \"POST\", { ...form }, { \"Content-Type\": \"application/json\" });\n    auth.login(res.tkn, res.id, res.isAdmin);\n  };\n\n  const changeHandler = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col s6 offset-s3\">\n        <h2 className=\"offset-s4 col\">LogIn</h2>\n        <form onSubmit={submitHandler}>\n          <div className=\"row\">\n            <div className=\"input-field col s6\">\n              <input id=\"username\" type=\"text\" name=\"username\" className=\"validate\" onChange={changeHandler} />\n              <label htmlFor=\"first_name\" className=\"active\">\n                Username\n              </label>\n            </div>\n            <div className=\"input-field col s6\">\n              <input id=\"password\" type=\"password\" name=\"password\" onChange={changeHandler} />\n              <label\n                htmlFor=\"last_name\"\n                className=\"active\n              \"\n              >\n                Password\n              </label>\n            </div>\n\n            <button type=\"submit\" className=\"waves-effect waves-light btn col s4 offset-s4\" disabled={loading}>\n              Sign In\n            </button>\n          </div>\n        </form>\n      </div>\n      <p className=\"col s12 red-text\">{errors}</p>\n    </div>\n  );\n};\n","import { createContext } from \"react\";\n\nexport const TasksContext = createContext();\n","import React, { useContext } from \"react\";\nimport classNames from \"classnames\";\nimport { TasksContext } from \"../context/tasks.context\";\n\nexport const Pagination = () => {\n  const { state, dispatch } = useContext(TasksContext);\n  const pages = Math.ceil(state.task.all / state.perPage) || 1;\n  const isFirst = state.currentPage === 1;\n  const isLast = state.currentPage === pages;\n\n  return (\n    <ul className=\"pagination\">\n      <li className={classNames(\"waves-effect\", { disabled: isFirst })}>\n        <a\n          href=\"/\"\n          onClick={e => {\n            e.preventDefault();\n            dispatch({ type: \"PREV_PAGE\" });\n          }}\n          className={classNames({ disabled: isFirst })}\n        >\n          <i className=\"material-icons\">chevron_left</i>\n        </a>\n      </li>\n\n      {new Array(pages).fill(0).map((_, i) => {\n        const index = i + 1;\n\n        return (\n          <li key={index} className={classNames({ active: index === state.currentPage })}>\n            <a href=\"#!\" onClick={() => dispatch({ type: \"SET_PAGE\", payload: index })}>\n              {index}\n            </a>\n          </li>\n        );\n      })}\n\n      <li className={classNames(\"waves-effect\", { disabled: isLast })}>\n        <a\n          href=\"/\"\n          onClick={e => {\n            e.preventDefault();\n            dispatch({ type: \"NEXT_PAGE\" });\n          }}\n          className={classNames({ disabled: isLast })}\n        >\n          <i className=\"material-icons\">chevron_right</i>\n        </a>\n      </li>\n    </ul>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useFetch } from \"../hooks/useFetch\";\n\nexport const TaskCreator = () => {\n  const [form, setForm] = useState({ username: \"\", email: \"\" });\n  const { req } = useFetch();\n  const changeHandler = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n  const submitHandler = async e => {\n    e.preventDefault();\n    await req(\"/tasks/create\", \"POST\", { ...form }, { \"Content-Type\": \"application/json\" });\n  };\n  return (\n    <form onSubmit={submitHandler} className=\"row valign-wrapper\">\n      <div className=\"col s2\">\n        <input id=\"username\" placeholder=\"Username\" type=\"text\" className=\"validate\" name=\"username\" onChange={changeHandler} />\n      </div>\n      <div className=\"col s3\">\n        <input id=\"email\" placeholder=\"Email\" type=\"email\" className=\"validate\" name=\"email\" onChange={changeHandler} />\n      </div>\n      <div className=\"col s6\">\n        <textarea id=\"text\" placeholder=\"Task Text\" className=\"materialize-textarea\" name=\"text\" onChange={changeHandler}></textarea>\n      </div>\n      <div className=\"col s1\">\n        <button type=\"submit\" className=\"waves-effect waves-light btn\">\n          Add Task\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React, { useEffect, useRef, useContext } from \"react\";\nimport { TasksContext } from \"../context/tasks.context\";\n\nexport const Filter = () => {\n  const select = useRef(null);\n  const select1 = useRef(null);\n  const { state, dispatch } = useContext(TasksContext);\n  useEffect(() => {\n    window.M.FormSelect.init(select.current);\n    window.M.FormSelect.init(select1.current);\n  }, []);\n\n  const toggleButton = () => (state.filterDir === \"ASC\" ? \"DESC\" : \"ASC\");\n\n  const ch = e => {\n    dispatch({ type: \"CHANGE_TASKS_PER_PAGE\", payload: e.target.value });\n  };\n\n  return (\n    <div className=\"row valign-wrapper\">\n      <div className=\"input-field col\">\n        <select ref={select} onChange={e => dispatch({ type: \"CHANGE_FILTER_NAME\", payload: e.target.value })} value={\"\"}>\n          <option value=\"\" disabled>\n            Sort By:\n          </option>\n          <option value=\"email\">Email</option>\n          <option value=\"username\">Username</option>\n          <option value=\"completed\">Status</option>\n        </select>\n        <label></label>\n      </div>\n      <button\n        className={`btn-floating btn-large waves-effect waves-light teal lighten-2 ${state.filterDir === \"DESC\" ? \"rotate180\" : \"\"}`}\n        onClick={e => dispatch({ type: \"CHANGE_FILTER_DIRECTION\", payload: toggleButton() })}\n      >\n        <i className=\"material-icons dp48\">arrow_upward</i>\n      </button>\n      <div className=\"input-field col\">\n        <select ref={select1} onChange={ch} value={state.perPage}>\n          <option value=\"3\">3</option>\n          <option value=\"5\">5</option>\n        </select>\n        <label>Показывать по:</label>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const Loader = () => (\n  <div className=\"row\">\n    <div className=\"col offset-s5\">\n      <div className=\"preloader-wrapper active\">\n        <div className=\"spinner-layer spinner-red-only\">\n          <div className=\"circle-clipper left\">\n            <div className=\"circle\"></div>\n          </div>\n          <div className=\"gap-patch\">\n            <div className=\"circle\"></div>\n          </div>\n          <div className=\"circle-clipper right\">\n            <div className=\"circle\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n","import React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/auth.context\";\nimport { useFetch } from \"../hooks/useFetch\";\n\nexport const TaskItem = ({ id, email, text, completed, username, edited }) => {\n  const [hasChanges, setHasChages] = useState(false);\n  const [values, setValues] = useState({ text, completed });\n  const { admin, token } = useContext(AuthContext);\n  const { req } = useFetch();\n  const inputChangeHandler = e => {\n    setValues({ ...values, text: e.target.value });\n    setHasChages(true);\n  };\n  const checkboxChangeHandler = e => {\n    setValues({ ...values, completed: !completed });\n    setHasChages(true);\n  };\n\n  const clickHandler = async e => {\n    setHasChages(false);\n    await req(`/tasks/${id}`, \"PUT\", { ...values }, { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` });\n  };\n  return (\n    <tr className=\"row valign-wrapper\">\n      <td className=\"col s3\">{email}</td>\n      <td className=\"col s2\">{username}</td>\n      <td className=\"col s4\">\n        <textarea id=\"id\" name=\"text\" disabled={!admin} className=\"materialize-textarea\" value={values.text} onChange={inputChangeHandler}></textarea>\n      </td>\n      <td className=\"col s1 valign-wrapper\">\n        <label className=\"\">\n          <input type=\"checkbox\" name=\"completed\" className=\"filled-in\" defaultChecked={values.completed} disabled={!admin} onChange={checkboxChangeHandler} />\n          <span> </span>\n        </label>\n      </td>\n      <td className=\"col s2\">\n        <button className={`btn waves-effect waves-light  ${hasChanges ? \"\" : \"none\"}`} type=\"submit\" name=\"action\" onClick={clickHandler}>\n          Save\n          <i className=\"material-icons dp48\">autorenew</i>\n        </button>\n        {edited ? \"Отредактировано Администратором\" : \"\"}\n      </td>\n    </tr>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Loader } from \"./Loader\";\nimport { TaskItem } from \"./TaskItem\";\nimport { TasksContext } from \"../context/tasks.context\";\nexport const TasksList = () => {\n  const { state } = useContext(TasksContext);\n\n  return state.loading ? (\n    <Loader />\n  ) : (\n    <table>\n      <thead>\n        <tr className=\"row\">\n          <th className=\"col s3\">Email</th>\n          <th className=\"col s2\">Username</th>\n          <th className=\"col s4\">Task Text</th>\n          <th className=\"col s2\">Completed</th>\n          <th className=\"col s1\"></th>\n        </tr>\n      </thead>\n      {state.task.list && (\n        <tbody>\n          {state.task.list.map(task => (\n            <TaskItem key={task.id} {...task} />\n          ))}\n        </tbody>\n      )}\n    </table>\n  );\n};\n","import { useEffect, useCallback, useReducer } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useFetch } from \"./useFetch\";\n\nexport const useFilter = () => {\n  const history = useHistory();\n  const l = useLocation();\n  const { req, loading } = useFetch();\n\n  const [state, dispatch] = useReducer(filterReducer, {\n    task: {\n      list: [],\n      all: 0,\n    },\n    filterName: \"\",\n    filterDir: \"ASC\",\n    currentPage: 1,\n    loading: false,\n    perPage: 3,\n  });\n\n  const filter = useCallback(() => {\n    history.push(`/tasks/?page=${state.currentPage}&filter=${state.filterName}&dir=${state.filterDir}&perPage=${state.perPage}`);\n  }, [state.filterDir, state.filterName, state.currentPage, state.perPage]);\n\n  useEffect(() => {\n    filter();\n  }, [filter]);\n\n  useEffect(() => {\n    dispatch({ type: \"SET_LOADING\", payload: loading });\n  }, [loading]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await req(`/tasks/${l.search}`);\n      dispatch({ type: \"FETCH_TASKS\", payload: { list: res.tasks || [], all: res.all } });\n    };\n    fetchData();\n  }, [l.search]);\n\n  return { state, dispatch, filter };\n};\n\nfunction filterReducer(state, action) {\n  switch (action.type) {\n    case \"CHANGE_FILTER_NAME\":\n      return { ...state, filterName: action.payload };\n    case \"CHANGE_FILTER_DIRECTION\":\n      return { ...state, filterDir: action.payload };\n    case \"NEXT_PAGE\":\n      return { ...state, currentPage: state.currentPage + 1 };\n    case \"PREV_PAGE\":\n      return { ...state, currentPage: state.currentPage - 1 };\n    case \"SET_PAGE\":\n      return { ...state, currentPage: action.payload };\n    case \"FETCH_TASKS\":\n      const { list, all } = action.payload;\n      return { ...state, task: { list, all } };\n    case \"SET_LOADING\":\n      return { ...state, loading: action.payload };\n    case \"QUERY_CHANGED\":\n      return { ...state, ...action.payload };\n    case \"CHANGE_TASKS_PER_PAGE\":\n      return { ...state, perPage: parseInt(action.payload, 10) };\n    default:\n      return state;\n  }\n}\n","import React, { useEffect } from \"react\";\nimport { Pagination } from \"../components/Pagination\";\nimport { TaskCreator } from \"../components/TaskCreator\";\nimport { Filter } from \"../components/Filter\";\nimport { TasksList } from \"../components/TasksList\";\nimport { useFilter } from \"../hooks/useFilter\";\nimport { TasksContext } from \"../context/tasks.context\";\n\nexport const TaskPage = () => {\n  const { dispatch, state, filter } = useFilter();\n\n  useEffect(() => {\n    filter();\n  }, []);\n\n  return (\n    <TasksContext.Provider value={{ state, dispatch }}>\n      <div className=\"container\">\n        <TaskCreator />\n        <Filter />\n        <TasksList />\n        <Pagination />\n      </div>\n    </TasksContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/auth.context\";\n\nexport const NavBar = () => {\n  const auth = useContext(AuthContext);\n\n  const logoutHandler = e => {\n    e.preventDefault();\n    auth.logout();\n  };\n\n  return (\n    <nav>\n      <div className=\"container\">\n        <div className=\"nav-wrapper\">\n          <Link to=\"/\" className=\"brand-logo\">\n            Task Tracker\n          </Link>\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li>\n              <NavLink to={\"/tasks/?page=1&dir=ASC&perPage=3\"}>Tasks</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/about\">About</NavLink>\n            </li>\n            <li>\n              {auth.isAuth ? (\n                <a href=\"/logout\" onClick={logoutHandler}>\n                  Log out\n                </a>\n              ) : (\n                <NavLink to=\"/auth\">Log In</NavLink>\n              )}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import React from \"react\";\n\nexport const About = () => {\n  return (\n    <div className=\"container\">\n      <h4>Developed By Kondrev Georgy {\"<george.kondrev@yandex.ru>\"}</h4>\n\n      <h5>Simple TaskTracker with authorization</h5>\n\n      <p> Provided By React - Node.js - Express - MySql </p>\n      <p> Deployed By Heroku - GitHub Pages </p>\n\n      <p>Приложение еще не закончено, но основной функционал присутствует.</p>\n      <p>Любой пользователь может оставить заметку</p>\n      <p>Редактировать заметки может толбко админ(login:admin, password:123)</p>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { AuthPage } from \"./pages/auth-page\";\nimport { TaskPage } from \"./pages/tasks\";\nimport { useAuth } from \"./hooks/useAuth\";\nimport { AuthContext } from \"./context/auth.context\";\nimport { NavBar } from \"./components/NavBar\";\nimport { About } from \"./pages/About\";\n\nfunction App() {\n  console.log(process.env.PUBLIC_URL);\n  const { token, userId, admin, login, logout } = useAuth();\n  const isAuth = !!token;\n  return (\n    <AuthContext.Provider value={{ token, admin, userId, isAuth, login, logout }}>\n      <BrowserRouter basename={`${process.env.PUBLIC_URL}/`}>\n        <NavBar />\n        <Switch>\n          {/* <Route exact path=\"/\" component={AuthPage} /> */}\n          <Route path=\"/tasks\">\n            <TaskPage />\n          </Route>\n          <Route path=\"/about\">\n            <About />\n          </Route>\n          {!isAuth && (\n            <Route exact path=\"/auth\">\n              <AuthPage />\n            </Route>\n          )}\n          <Redirect to={`/tasks/ `} />\n        </Switch>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import { useState, useEffect, useCallback } from \"react\";\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [admin, setAdmin] = useState(null);\n\n  const login = useCallback((jwttoken, id, isAdmin) => {\n    setToken(jwttoken);\n    setUserId(id);\n    setAdmin(isAdmin);\n\n    localStorage.setItem(\"userdata\", JSON.stringify({ token: jwttoken, admin: isAdmin, userId: id }));\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    setAdmin(null);\n\n    localStorage.removeItem(\"userdata\");\n  }, []);\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(\"userdata\"));\n\n    if (data && data.token) {\n      login(data.token, data.userId, data.admin);\n    }\n  }, [login]);\n\n  return { login, logout, token, admin, userId };\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"materialize-css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}