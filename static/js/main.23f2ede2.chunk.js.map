{"version":3,"sources":["hooks/useFetch.jsx","context/auth.context.jsx","pages/auth-page.jsx","components/Pagination.jsx","components/TaskCreator.jsx","components/Filter.jsx","hooks/useFilter.jsx","components/Loader.jsx","components/TaskItem.jsx","components/TasksList.jsx","pages/tasks.jsx","pages/About.jsx","components/NavBar.jsx","App.jsx","hooks/useAuth.jsx","index.jsx"],"names":["useFetch","useState","loading","setLoading","msg","isErrors","errors","setErrors","req","useCallback","url","a","method","body","headers","JSON","stringify","fetch","res","json","data","ok","isError","message","clearErrors","AuthContext","createContext","token","admin","userId","isAuth","AuthPage","username","password","form","setForm","auth","useContext","submitHandler","e","preventDefault","login","tkn","id","isAdmin","changeHandler","target","name","value","className","onSubmit","type","onChange","htmlFor","disabled","Pagination","currentPage","isFirst","isLast","pages","key","to","href","initValue","email","text","TaskCreator","placeholder","Filter","select","useRef","filterName","setFilterName","filterDir","setFilterDir","history","useHistory","page","useParams","filter","push","useEffect","changeDir","changeFilter","useFilter","window","M","FormSelect","init","current","ref","onClick","Loader","TaskItem","completed","edited","hasChanges","setHasChages","values","setValues","clickHandler","Authorization","defaultChecked","TasksList","tasks","map","task","TaskPage","setTasks","pagesAmount","setPagesAmount","l","useLocation","search","querystring","parse","dir","Math","ceil","all","fetchData","console","count","parseInt","About","NavBar","logout","App","setToken","setUserId","setAdmin","jwttoken","localStorage","setItem","removeItem","getItem","useAuth","Provider","basename","process","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.23f2ede2.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\";\n\nexport const useFetch = () => {\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({ msg: \"\", isErrors: false });\n  const req = useCallback(async (url, method = \"GET\", body = null, headers = {}) => {\n    setLoading(true);\n    try {\n      if (body) {\n        body = JSON.stringify(body);\n      }\n\n      let res = await fetch(`https://react-tracker-task.herokuapp.com${url}`, { headers, method, body });\n      const data = await res.json();\n\n      if (!res.ok) {\n        setErrors({ msg: data.msg, isError: true });\n        setLoading(false);\n        return false;\n      }\n\n      setLoading(false);\n      return data;\n    } catch (err) {\n      setLoading(false);\n      setErrors({ msg: err.message, isError: true });\n    }\n  }, []);\n\n  const clearErrors = useCallback(() => setErrors(null), []);\n\n  return { loading, req, errors, clearErrors };\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext({\n  token: null,\n  admin: false,\n  userId: null,\n  isAuth: false,\n});\n","import React, { useState, useContext } from \"react\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport { AuthContext } from \"../context/auth.context\";\n\nexport const AuthPage = () => {\n  const { req, loading, errors } = useFetch();\n  const [form, setForm] = useState({ username: \"\", password: \"\" });\n  const auth = useContext(AuthContext);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const res = await req(\"/auth/login\", \"POST\", { ...form }, { \"Content-Type\": \"application/json\" });\n    if (res) auth.login(res.tkn, res.id, res.isAdmin);\n  };\n\n  const changeHandler = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col s6 offset-s3\">\n        <h2 className=\"offset-s4 col\">LogIn</h2>\n        <form onSubmit={submitHandler}>\n          <div className=\"row\">\n            <div className=\"input-field col s6\">\n              <input id=\"username\" type=\"text\" name=\"username\" className=\"validate\" onChange={changeHandler} />\n              <label htmlFor=\"first_name\" className=\"active\">\n                Username\n              </label>\n            </div>\n            <div className=\"input-field col s6\">\n              <input id=\"password\" type=\"password\" name=\"password\" onChange={changeHandler} />\n              <label\n                htmlFor=\"last_name\"\n                className=\"active\n              \"\n              >\n                Password\n              </label>\n            </div>\n\n            <button type=\"submit\" className=\"waves-effect waves-light btn col s4 offset-s4\" disabled={loading && !errors.isErrors}>\n              Sign In\n            </button>\n          </div>\n        </form>\n      </div>\n      {errors && !errors.isErrors && <p className=\"col s12 red-text\">{errors.msg}</p>}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport const Pagination = ({ currentPage, pages }) => {\n  const isFirst = currentPage == 1;\n  const isLast = currentPage == pages;\n\n  return (\n    <ul className=\"pagination\">\n      <li key=\"1\" className={`waves-effect ${isFirst ? \"disabled\" : \"\"}`}>\n        <Link to={`/tasks/${currentPage - 1}`} className={isFirst ? \"disabled\" : \"\"}>\n          <i className=\"material-icons\">chevron_left</i>\n        </Link>\n      </li>\n      <li key=\"2\" className=\"active\">\n        <a href=\"#!\">{currentPage}</a>\n      </li>\n      <li key=\"3\" className={`waves-effect ${isLast ? \"disabled\" : \"\"}`}>\n        <Link to={`/tasks/${currentPage + 1}`} className={isLast ? \"disabled\" : \"\"}>\n          <i className=\"material-icons\">chevron_right</i>\n        </Link>\n      </li>\n    </ul>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useFetch } from \"../hooks/useFetch\";\nconst initValue = { username: \"\", email: \"\", text: \"\" };\n\nexport const TaskCreator = () => {\n  const [form, setForm] = useState(initValue);\n  const { req, errors } = useFetch();\n  const changeHandler = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n  const submitHandler = async e => {\n    e.preventDefault();\n    const res = await req(\"/tasks/create\", \"POST\", { ...form }, { \"Content-Type\": \"application/json\" });\n    setForm(initValue);\n  };\n\n  return (\n    <form onSubmit={submitHandler} className=\"row valign-wrapper\">\n      <div className=\"col s2\">\n        <input id=\"username\" placeholder=\"Username\" type=\"text\" className=\"validate\" name=\"username\" value={form.username} onChange={changeHandler} />\n      </div>\n      <div className=\"col s3\">\n        <input id=\"email\" placeholder=\"Email\" type=\"email\" className=\"validate\" name=\"email\" value={form.email} onChange={changeHandler} />\n      </div>\n      <div className=\"col s6\">\n        <textarea id=\"text\" placeholder=\"Task Text\" className=\"materialize-textarea\" name=\"text\" value={form.text} onChange={changeHandler}></textarea>\n      </div>\n      <div className=\"col s1\">\n        <button type=\"submit\" className=\"waves-effect waves-light btn\">\n          Add Task\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { useFilter } from \"../hooks/useFilter\";\n\nexport const Filter = () => {\n  const select = useRef(null);\n  const { filterDir, changeDir, changeFilter } = useFilter();\n  useEffect(() => {\n    window.M.FormSelect.init(select.current);\n  }, []);\n\n  return (\n    <div className=\"row valign-wrapper\">\n      <div className=\"input-field col s6 offset-s3\">\n        <select ref={select} onChange={e => changeFilter(e.target.value)} value={\"default\"}>\n          <option value=\"default\" disabled>\n            Sort By:\n          </option>\n          <option value=\"email\">Email</option>\n          <option value=\"username\">Username</option>\n          <option value=\"completed\">Status</option>\n        </select>\n        <label></label>\n      </div>\n      <button className={`btn-floating btn-large waves-effect waves-light teal lighten-2 ${filterDir && \"rotate180\"}`} onClick={e => changeDir()}>\n        <i className=\"material-icons dp48\">arrow_upward</i>\n      </button>\n    </div>\n  );\n};\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nexport const useFilter = () => {\n  const [filterName, setFilterName] = useState(\"\");\n  const [filterDir, setFilterDir] = useState(\"\");\n  const history = useHistory();\n  const { page } = useParams();\n  const filter = useCallback(() => {\n    history.push(`/task-tracker/tasks/${page}?filter=${filterName}&dir=${filterDir}`);\n  }, [filterDir, filterName, page]);\n\n  const changeDir = () => {\n    const dir = filterDir === \"\" ? \"DESC\" : \"\";\n    setFilterDir(dir);\n  };\n  const changeFilter = name => {\n    setFilterName(name);\n  };\n\n  useEffect(() => {\n    filter();\n  }, [filter]);\n\n  return { filterName, filterDir, page, changeDir, changeFilter, filter };\n};\n","import React from \"react\";\n\nexport const Loader = () => (\n  <div className=\"row\">\n    <div className=\"preloader-wrapper big active col offset-s5\">\n      <div className=\"spinner-layer spinner-blue\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"></div>\n        </div>\n      </div>\n\n      <div className=\"spinner-layer spinner-red\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"></div>\n        </div>\n      </div>\n\n      <div className=\"spinner-layer spinner-yellow\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"></div>\n        </div>\n      </div>\n\n      <div className=\"spinner-layer spinner-green\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"></div>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n","import React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/auth.context\";\nimport { useFetch } from \"../hooks/useFetch\";\n\nexport const TaskItem = ({ id, email, text, completed, username, edited }) => {\n  const [hasChanges, setHasChages] = useState(false);\n  const [values, setValues] = useState({ text, completed });\n  const { admin, token } = useContext(AuthContext);\n  const { req } = useFetch();\n  const inputChangeHandler = e => {\n    setValues({ ...values, text: e.target.value });\n    setHasChages(true);\n  };\n  const checkboxChangeHandler = e => {\n    setValues({ ...values, completed: !completed });\n    setHasChages(true);\n  };\n\n  const clickHandler = async e => {\n    setHasChages(false);\n    const res = await req(`/tasks/${id}`, \"PUT\", { ...values }, { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` });\n  };\n  return (\n    <tr className=\"row valign-wrapper\">\n      <td className=\"col s3\">{email}</td>\n      <td className=\"col s2\">{username}</td>\n      <td className=\"col s4\">\n        <textarea id=\"id\" name=\"text\" disabled={!admin} className=\"materialize-textarea\" value={values.text} onChange={inputChangeHandler}></textarea>\n      </td>\n      <td className=\"col s1 valign-wrapper\">\n        <label className=\"\">\n          <input type=\"checkbox\" name=\"completed\" className=\"filled-in\" defaultChecked={values.completed} disabled={!admin} onChange={checkboxChangeHandler} />\n          <span> </span>\n        </label>\n      </td>\n      <td className=\"col s2\">\n        <button className={`btn waves-effect waves-light  ${hasChanges ? \"\" : \"none\"}`} type=\"submit\" name=\"action\" onClick={clickHandler}>\n          Save\n          <i className=\"material-icons dp48\">autorenew</i>\n        </button>\n        {edited ? \"Отредактировано Администратором\" : \"\"}\n      </td>\n    </tr>\n  );\n};\n","import React from \"react\";\nimport { Loader } from \"./Loader\";\nimport { TaskItem } from \"./TaskItem\";\nexport const TasksList = ({ tasks, loading }) => {\n  return (\n    <table>\n      <thead>\n        <tr className=\"row\">\n          <th className=\"col s3\">Email</th>\n          <th className=\"col s2\">Username</th>\n          <th className=\"col s4\">Task Text</th>\n          <th className=\"col s2\">Completed</th>\n          <th className=\"col s1\"></th>\n        </tr>\n      </thead>\n      {loading ? (\n        <Loader />\n      ) : (\n        tasks && (\n          <tbody>\n            {tasks.map(task => (\n              <TaskItem key={task.id} {...task} />\n            ))}\n          </tbody>\n        )\n      )}\n    </table>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Pagination } from \"../components/Pagination\";\nimport { TaskCreator } from \"../components/TaskCreator\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport { Filter } from \"../components/Filter\";\nimport querystring from \"query-string\";\nimport { TasksList } from \"../components/TasksList\";\n\nexport const TaskPage = () => {\n  const [tasks, setTasks] = useState([]);\n  const [pagesAmount, setPagesAmount] = useState(1);\n  const { req, loading } = useFetch();\n  const { page } = useParams();\n  const l = useLocation();\n  const search = querystring.parse(l.search);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await req(`/tasks/${page}?filter=${search.filter}&dir=${search.dir}`);\n      setTasks(res.tasks);\n      setPagesAmount(Math.ceil(res.all / 3));\n    };\n\n    fetchData();\n  }, [page, req, l]);\n\n  console.count(\"render\");\n  return (\n    <div className=\"container\">\n      <TaskCreator />\n      <Filter />\n      <TasksList tasks={tasks} loading={loading} />\n      <Pagination currentPage={parseInt(page, 10)} pages={pagesAmount} />\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const About = () => {\n  return (\n    <div className=\"container\">\n      <h5>Developed By Kondrev Georgy {\"<george.kondrev@yandex.ru>\"}</h5>\n      <p> Special for Deltaplan</p>\n      <p> Provided By React - Node.js - Express - MySql </p>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/auth.context\";\n\nexport const NavBar = () => {\n  const auth = useContext(AuthContext);\n\n  const logoutHandler = () => {\n    auth.logout();\n  };\n\n  return (\n    <nav>\n      <div className=\"container\">\n        <div className=\"nav-wrapper\">\n          <Link to=\"/\" className=\"brand-logo\">\n            Task Tracker\n          </Link>\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li>\n              <NavLink to=\"/tasks/1\">Tasks</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/about\">About</NavLink>\n            </li>\n            <li>{auth.isAuth ? <a onClick={logoutHandler}>Log out</a> : <NavLink to=\"/auth\">Log In</NavLink>}</li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { AuthPage } from \"./pages/auth-page\";\nimport { TaskPage } from \"./pages/tasks\";\nimport { About } from \"./pages/About\";\nimport { useAuth } from \"./hooks/useAuth\";\nimport { AuthContext } from \"./context/auth.context\";\nimport { NavBar } from \"./components/NavBar\";\n\nfunction App() {\n  const { token, userId, admin, login, logout } = useAuth();\n  const isAuth = !!token;\n\n  return (\n    <AuthContext.Provider value={{ token, admin, userId, isAuth, login, logout }}>\n      <BrowserRouter basename={process.env.PUBLIC_URL + \"/\"}>\n        <NavBar />\n        <Switch>\n          <Route exact path=\"/\" component={AuthPage} />>\n          <Route exact path=\"/tasks/:page\">\n            <TaskPage />\n          </Route>\n          <Route path=\"/about\">\n            <About />\n          </Route>\n          {!isAuth && (\n            <Route exact path=\"/auth\">\n              <AuthPage />\n            </Route>\n          )}\n          <Redirect to=\"/tasks/1\" />\n        </Switch>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import { useState, useEffect, useCallback } from \"react\";\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [admin, setAdmin] = useState(null);\n\n  const login = useCallback((jwttoken, id, isAdmin) => {\n    setToken(jwttoken);\n    setUserId(id);\n    setAdmin(isAdmin);\n\n    localStorage.setItem(\"userdata\", JSON.stringify({ token: jwttoken, admin: isAdmin, userId: id }));\n  }, []);\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    setAdmin(null);\n\n    localStorage.removeItem(\"userdata\");\n  }, []);\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(\"userdata\"));\n\n    if (data && data.token) {\n      login(data.token, data.userId, data.admin);\n    }\n  }, [login]);\n\n  return { login, logout, token, admin, userId };\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"materialize-css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}